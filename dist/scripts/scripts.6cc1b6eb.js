"use strict";angular.module("pgaApp",["ngAnimate","ngCookies","ngResource","ngRoute","ngSanitize","ui.router","ngMaterial","ngLodash","ngGeolocation","uiGmapgoogle-maps"]).config(["$locationProvider","$stateProvider","$httpProvider","$urlRouterProvider","$mdThemingProvider","uiGmapGoogleMapApiProvider",function(a,b,c,d,e,f){f.configure({key:"AIzaSyBbw9PJvWsQn_qmBIMSxFAMrtSJcqM70Sg",v:"3.20",libraries:"weather,geometry,visualization"}),a.html5Mode(!0),d.otherwise("/"),e.theme("default").primaryPalette("grey").dark(),b.state({name:"Main",url:"/",templateUrl:"views/main.html",controller:"MainCtrl"}).state({name:"Test",url:"/test",tempalteUrl:"views/test.html"})}]).service("pgaTable",["$http","$geolocation","$rootScope",function(a,b,c){this.formId="1JdBMtPa4V-5FZNeDMPw9gC63cU_PYfMY0yvLtFpKZIo",this.reportSighting=function(b){var d="https://docs.google.com/forms/d/"+this.formId+"/formResponse?submit=Submit",e={"entry.1679630058":b.name,"entry.52226537":b.id,"entry.1840957835":c.currentLocation.latitude+","+c.currentLocation.longitude};return angular.forEach(e,function(a,b){d+="&"+b+"="+a}),a.post(d).then(function(a){console.log(a)},function(a){console.log(a)})}}]).filter("parseInt",function(){return function(a){return parseInt(a)}}),angular.module("pgaApp").controller("MainCtrl",["$scope","$timeout","$mdSidenav","$rootScope","$http","lodash","pgaTable","$sce","$geolocation",function(a,b,c,d,e,f,g,h,i){function j(a){return k(function(){c(a).toggle().then(function(){})},200)}function k(c,d,e){var f;return function(){var e=a,g=Array.prototype.slice.call(arguments);b.cancel(f),f=b(function(){f=void 0,c.apply(e,g)},d||10)}}a.toggleLeft=j("left"),a.toggleRight=j("right"),a.pokemons=[],a.myPosition=i.position,e.get("pokemon.json").success(function(b){a.pokemons=b}),a.getQuery=function(){return d.currentPokemon?"PokedexId = "+d.currentPokemon.id:""},a.openLegal=function(){swal("Legal","Pokémon images, names and information (c) 1995-2014 Nintendo/Game freak.\n\nImages and content were taken from the following resources:\n\nPokéAp\nPokémon Database\nveekun/pokedex")},a.close=function(a){c(a).close()},i.watchPosition({timeout:5e3,maximumAge:250});var l={latitude:-33.8688,longitude:151.2093},m=16;a.map={center:l,zoom:m},a.map.fusionlayer={options:{heatmap:{enabled:!1},query:{select:"Location",from:"1b4XoPuboTQ-x6K_uoIpjEg0k4Nwa8gEewhFpDypw",where:a.getQuery()}}},d.$watch("currentPokemon",function(b){a.map.fusionlayer.options.query.where=a.getQuery()}),a.$on("$geolocation.position.changed",function(b,c){a.map.center==l&&c&&(d.currentLocation=c.coords,a.map.center={latitude:c.coords.latitude,longitude:c.coords.longitude})})}]),angular.module("pgaApp").controller("PokedexCtrl",["$scope","$timeout","$rootScope","$mdSidenav","pgaTable",function(a,b,c,d,e){a.close=function(){d("left").close().then(function(){})},a.setPokemon=function(b){c.currentPokemon=b,a.close()},a.reportSighting=function(b){return c.currentLocation?void swal({title:b.name+" sighted near you now?",type:"info",showCancelButton:!0,confirmButtonColor:"#FF754A",cancelButtonColor:"#bbb",confirmButtonText:"Yes"}).then(function(){e.reportSighting(b).then(function(b){swal("Marked!!","Your Sighting has been marked","success"),a.close()})}):void swal("You Must Enable Locations to Report a Sighting")}}]),angular.module("pgaApp").run(["$templateCache",function(a){a.put("views/main.html",'<!-- <div id="OverLay" class="animate-slideDown interactive" ng-click="hideOverlay = true" ng-show="hideOverlay">\n  <h1 class="pop-text">\n    Welcome to the Pokemon Go Assistant\n    <span style="font-size: 12pt; display: block; margin: .5em 0;"></span>\n  </h1>\n</div> --> <section layout="row" flex> <!-- Left --> <md-sidenav class="md-sidenav-left" md-component-id="left" md-disable-backdrop md-whiteframe="4"> <md-content layout-padding ng-controller="PokedexCtrl"> <!-- content --> <md-input-container style="margin: 1em; margin-bottom: 0"> <label>Search</label> <md-icon class="name"> <i class="fa fa-times interactive pop-text" ng-click="close(\'left\')" aria-hidden="true"></i> </md-icon> <input ng-model="findFilter" ng-model-options="{debounce: 80}"> </md-input-container> <ul style="margin: 0"> <li class="pokemon"> <div flex class="pop-text"> <span class="pokemon-id interactive" ng-click="setPokemon(null)">Show All</span> </div> </li> <li layout="row" ng-repeat="pokemon in pokemons | filter: findFilter" class="pokemon animate-fade" ng-class=" {\'active\' : currentPokemon == pokemon }"> <div flex class="pop-text"> <span class="pokemon-id interactive" ng-click="setPokemon(pokemon)">{{pokemon.id}}</span> <span class="interactive" ng-click="setPokemon(pokemon)">{{pokemon.name}}</span> </div> <div flex style="max-width: 50px; text-align: right" ng-click="reportSighting(pokemon)"> <i class="fa fa-eye pop-text interactive" aria-hidden="true"></i> </div> </li> <li class="pokemon"> <div class="interactive pop-text" ng-click="openLegal()">(<i class="fa fa-gavel" aria-hidden="true"> L egal</i>)</div> </li> </ul> </md-content> </md-sidenav> </section> <div style="height: 100vh"> <md-button ng-click="toggleLeft()" class="md-raised md-primary" style="height: 50px; font-weight: bold; left: 0; position: fixed; z-index: 10; color: white"> <span ng-hide="currentPokemon">Find Pokemon</span> <span ng-show="currentPokemon">{{currentPokemon.name}} Sightings</span> </md-button> <div class="full-height" ng-include="\'views/map.html\'" ng-></div> <div class="bottomBar"> <a class="pop-text" href="mailto:Patrick_lai@hellokitty.com?Subject=Reports" target="_top"> Reports </a> / <a class="pop-text" href="mailto:Patrick_lai@hellokitty.com?Subject=Suggetions" target="_top"> Suggetions </a> / <a class="pop-text" href="https://www.paypal.com/cgi-bin/webscr?cmd=_donations&business=patrick_lai%40hellokitty%2ecom&lc=AU&no_note=0&currency_code=AUD&bn=PP%2dDonationsBF%3abtn_donateCC_LG%2egif%3aNonHosted" target="_blank"> Donations </a> to <a class="pop-text" href="mailto:Patrick_lai@hellokitty.com?Subject=Pokemon" target="_top"> Patrick_lai@hellokitty.com </a> </div> </div>'),a.put("views/map.html",'<div class="full-height"> <ui-gmap-google-map center="map.center" zoom="map.zoom"> <ui-gmap-layer type="FusionTablesLayer" options="map.fusionlayer.options" show="true"></ui-gmap-layer> </ui-gmap-google-map> <!-- <iframe class="full-height" style="width: 100%;" scrolling="no" frameborder="no" ng-src="{{getIframeUrl()}}"></iframe> --> </div>')}]);